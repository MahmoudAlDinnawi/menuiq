{"ast":null,"code":"var _jsxFileName = \"/Users/mahmouddinnawi/MenuSystem/frontend/src/components/MenuImportExport.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { menuAPI } from '../services/api';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenuImportExport = ({\n  categories,\n  onImportSuccess\n}) => {\n  _s();\n  const [importing, setImporting] = useState(false);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [importErrors, setImportErrors] = useState([]);\n  const [importSuccess, setImportSuccess] = useState(false);\n\n  // Generate template data\n  const generateTemplate = () => {\n    const templateData = [{\n      name: 'Grilled Chicken',\n      nameAr: 'دجاج مشوي',\n      category: 'mains',\n      price: '45 SAR',\n      priceWithoutVat: '39 SAR',\n      description: 'Tender grilled chicken breast with herbs',\n      descriptionAr: 'صدر دجاج مشوي طري مع الأعشاب',\n      calories: '350',\n      walkMinutes: '45',\n      runMinutes: '20',\n      preparationTime: '20',\n      servingSize: '250g',\n      halal: 'TRUE',\n      vegetarian: 'FALSE',\n      vegan: 'FALSE',\n      glutenFree: 'TRUE',\n      dairyFree: 'FALSE',\n      nutFree: 'TRUE',\n      highSodium: 'FALSE',\n      containsCaffeine: 'FALSE',\n      spicyLevel: '0',\n      allergens: 'dairy,gluten',\n      // Nutrition label fields\n      totalFat: '12',\n      saturatedFat: '3',\n      transFat: '0',\n      cholesterol: '85',\n      sodium: '450',\n      totalCarbs: '8',\n      dietaryFiber: '2',\n      sugars: '3',\n      protein: '45',\n      vitaminA: '10',\n      vitaminC: '15',\n      calcium: '8',\n      iron: '20'\n    }];\n\n    // Create worksheet\n    const ws = XLSX.utils.json_to_sheet(templateData);\n\n    // Set column widths\n    const colWidths = [{\n      wch: 20\n    },\n    // name\n    {\n      wch: 20\n    },\n    // nameAr\n    {\n      wch: 15\n    },\n    // category\n    {\n      wch: 12\n    },\n    // price\n    {\n      wch: 15\n    },\n    // priceWithoutVat\n    {\n      wch: 40\n    },\n    // description\n    {\n      wch: 40\n    },\n    // descriptionAr\n    {\n      wch: 10\n    },\n    // calories\n    {\n      wch: 12\n    },\n    // walkMinutes\n    {\n      wch: 12\n    },\n    // runMinutes\n    {\n      wch: 15\n    },\n    // preparationTime\n    {\n      wch: 12\n    },\n    // servingSize\n    {\n      wch: 8\n    },\n    // halal\n    {\n      wch: 10\n    },\n    // vegetarian\n    {\n      wch: 8\n    },\n    // vegan\n    {\n      wch: 10\n    },\n    // glutenFree\n    {\n      wch: 10\n    },\n    // dairyFree\n    {\n      wch: 8\n    },\n    // nutFree\n    {\n      wch: 10\n    },\n    // highSodium\n    {\n      wch: 15\n    },\n    // containsCaffeine\n    {\n      wch: 10\n    },\n    // spicyLevel\n    {\n      wch: 20\n    },\n    // allergens\n    // Nutrition columns\n    {\n      wch: 10\n    },\n    // totalFat\n    {\n      wch: 12\n    },\n    // saturatedFat\n    {\n      wch: 10\n    },\n    // transFat\n    {\n      wch: 12\n    },\n    // cholesterol\n    {\n      wch: 10\n    },\n    // sodium\n    {\n      wch: 12\n    },\n    // totalCarbs\n    {\n      wch: 12\n    },\n    // dietaryFiber\n    {\n      wch: 10\n    },\n    // sugars\n    {\n      wch: 10\n    },\n    // protein\n    {\n      wch: 10\n    },\n    // vitaminA\n    {\n      wch: 10\n    },\n    // vitaminC\n    {\n      wch: 10\n    },\n    // calcium\n    {\n      wch: 8\n    } // iron\n    ];\n    ws['!cols'] = colWidths;\n\n    // Create workbook\n    const wb = XLSX.utils.book_new();\n\n    // Add instructions sheet\n    const instructions = [['INSTRUCTIONS FOR MENU IMPORT'], [''], ['1. Fill in the data in the \"Menu Template\" sheet'], ['2. Required fields: name, category, price, description, calories'], ['3. Categories must be one of: ' + categories.map(c => c.value).join(', ')], ['4. For boolean fields (halal, vegetarian, etc.), use TRUE or FALSE'], ['5. Spicy level should be 0-3'], ['6. Allergens should be comma-separated: dairy,nuts,gluten,etc.'], ['7. Nutrition fields are optional - leave blank if not available'], ['8. Save as .xlsx or .csv and upload']];\n    const wsInstructions = XLSX.utils.aoa_to_sheet(instructions);\n\n    // Add sheets to workbook\n    XLSX.utils.book_append_sheet(wb, wsInstructions, \"Instructions\");\n    XLSX.utils.book_append_sheet(wb, ws, \"Menu Template\");\n\n    // Download file\n    XLSX.writeFile(wb, 'menu_import_template.xlsx');\n  };\n\n  // Parse boolean values\n  const parseBoolean = value => {\n    if (typeof value === 'boolean') return value;\n    if (typeof value === 'string') {\n      return value.toUpperCase() === 'TRUE' || value === '1' || value.toUpperCase() === 'YES';\n    }\n    return false;\n  };\n\n  // Parse numeric values\n  const parseNumber = (value, isFloat = false) => {\n    if (value === '' || value === null || value === undefined) return null;\n    const num = isFloat ? parseFloat(value) : parseInt(value);\n    return isNaN(num) ? null : num;\n  };\n\n  // Process imported data\n  const processImportData = data => {\n    const errors = [];\n    const validItems = [];\n    data.forEach((row, index) => {\n      try {\n        // Skip empty rows\n        if (!row.name || !row.category || !row.price || !row.description) {\n          if (row.name || row.category || row.price || row.description) {\n            errors.push(`Row ${index + 2}: Missing required fields`);\n          }\n          return;\n        }\n\n        // Validate category\n        const validCategories = categories.map(c => c.value);\n        if (!validCategories.includes(row.category)) {\n          errors.push(`Row ${index + 2}: Invalid category \"${row.category}\"`);\n          return;\n        }\n\n        // Parse allergens\n        const allergens = row.allergens ? row.allergens.split(',').map(a => a.trim()).filter(a => a) : [];\n\n        // Create item object\n        const item = {\n          name: row.name,\n          nameAr: row.nameAr || '',\n          category: row.category,\n          price: row.price,\n          priceWithoutVat: row.priceWithoutVat || '',\n          description: row.description,\n          descriptionAr: row.descriptionAr || '',\n          calories: parseNumber(row.calories) || 0,\n          walkMinutes: parseNumber(row.walkMinutes),\n          runMinutes: parseNumber(row.runMinutes),\n          preparationTime: parseNumber(row.preparationTime),\n          servingSize: row.servingSize || '',\n          halal: parseBoolean(row.halal),\n          vegetarian: parseBoolean(row.vegetarian),\n          vegan: parseBoolean(row.vegan),\n          glutenFree: parseBoolean(row.glutenFree),\n          dairyFree: parseBoolean(row.dairyFree),\n          nutFree: parseBoolean(row.nutFree),\n          highSodium: parseBoolean(row.highSodium),\n          containsCaffeine: parseBoolean(row.containsCaffeine),\n          spicyLevel: parseNumber(row.spicyLevel) || 0,\n          allergens: allergens,\n          // Nutrition fields\n          totalFat: parseNumber(row.totalFat, true),\n          saturatedFat: parseNumber(row.saturatedFat, true),\n          transFat: parseNumber(row.transFat, true),\n          cholesterol: parseNumber(row.cholesterol),\n          sodium: parseNumber(row.sodium),\n          totalCarbs: parseNumber(row.totalCarbs, true),\n          dietaryFiber: parseNumber(row.dietaryFiber, true),\n          sugars: parseNumber(row.sugars, true),\n          protein: parseNumber(row.protein, true),\n          vitaminA: parseNumber(row.vitaminA),\n          vitaminC: parseNumber(row.vitaminC),\n          calcium: parseNumber(row.calcium),\n          iron: parseNumber(row.iron)\n        };\n        validItems.push(item);\n      } catch (error) {\n        errors.push(`Row ${index + 2}: ${error.message}`);\n      }\n    });\n    return {\n      validItems,\n      errors\n    };\n  };\n\n  // Handle file upload\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setUploadFile(file);\n      setImportErrors([]);\n      setImportSuccess(false);\n    }\n  };\n\n  // Handle import\n  const handleImport = async () => {\n    if (!uploadFile) return;\n    setImporting(true);\n    setImportErrors([]);\n    setImportSuccess(false);\n    try {\n      const reader = new FileReader();\n      reader.onload = async e => {\n        try {\n          const data = new Uint8Array(e.target.result);\n          const workbook = XLSX.read(data, {\n            type: 'array'\n          });\n\n          // Get the first sheet (or \"Menu Template\" sheet if it exists)\n          const sheetName = workbook.SheetNames.includes('Menu Template') ? 'Menu Template' : workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n\n          // Convert to JSON\n          const jsonData = XLSX.utils.sheet_to_json(worksheet);\n          if (jsonData.length === 0) {\n            setImportErrors(['No data found in the file']);\n            setImporting(false);\n            return;\n          }\n\n          // Process and validate data\n          const {\n            validItems,\n            errors\n          } = processImportData(jsonData);\n          if (errors.length > 0) {\n            setImportErrors(errors);\n          }\n          if (validItems.length > 0) {\n            // Import valid items\n            let successCount = 0;\n            const importErrors = [];\n            for (const item of validItems) {\n              try {\n                await menuAPI.createMenuItem(item);\n                successCount++;\n              } catch (error) {\n                importErrors.push(`Failed to import \"${item.name}\": ${error.message}`);\n              }\n            }\n            if (importErrors.length > 0) {\n              setImportErrors(prev => [...prev, ...importErrors]);\n            }\n            if (successCount > 0) {\n              setImportSuccess(true);\n              onImportSuccess();\n\n              // Reset form after success\n              setTimeout(() => {\n                setUploadFile(null);\n                setImportSuccess(false);\n                if (e.target.form) {\n                  e.target.form.reset();\n                }\n              }, 3000);\n            }\n          } else if (errors.length === 0) {\n            setImportErrors(['No valid items found to import']);\n          }\n        } catch (error) {\n          setImportErrors([`Failed to read file: ${error.message}`]);\n        } finally {\n          setImporting(false);\n        }\n      };\n      reader.readAsArrayBuffer(uploadFile);\n    } catch (error) {\n      setImportErrors([`Upload failed: ${error.message}`]);\n      setImporting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl p-6 shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-playfair font-bold text-primary mb-6\",\n      children: \"Import/Export Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Step 1: Download Template\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Download the Excel template with all required fields and instructions.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generateTemplate,\n        className: \"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), \"Download Template\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Step 2: Upload Filled Template\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Fill the template with your menu items and upload it here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".xlsx,.xls,.csv\",\n          onChange: handleFileUpload,\n          className: \"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleImport,\n          disabled: !uploadFile || importing,\n          className: `px-4 py-2 rounded-lg transition-colors ${uploadFile && !importing ? 'bg-green-600 text-white hover:bg-green-700' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n          children: importing ? 'Importing...' : 'Import'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), importSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-700 font-medium\",\n        children: \"\\u2705 Menu items imported successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }, this), importErrors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-700 font-medium mb-2\",\n        children: \"Import Errors:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-disc list-inside text-sm text-red-600 space-y-1\",\n        children: importErrors.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: error\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 p-4 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold mb-2\",\n        children: \"Quick Guide:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm text-gray-600 space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Required fields: name, category, price, description, calories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\u2022 Categories: \", categories.map(c => c.value).join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Boolean fields: Use TRUE/FALSE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Allergens: Comma-separated (e.g., dairy,nuts,gluten)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Nutrition fields are optional\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 5\n  }, this);\n};\n_s(MenuImportExport, \"SpKxbjKa5MYRQ9qSUq/kApshC6o=\");\n_c = MenuImportExport;\nexport default MenuImportExport;\nvar _c;\n$RefreshReg$(_c, \"MenuImportExport\");","map":{"version":3,"names":["React","useState","menuAPI","XLSX","jsxDEV","_jsxDEV","MenuImportExport","categories","onImportSuccess","_s","importing","setImporting","uploadFile","setUploadFile","importErrors","setImportErrors","importSuccess","setImportSuccess","generateTemplate","templateData","name","nameAr","category","price","priceWithoutVat","description","descriptionAr","calories","walkMinutes","runMinutes","preparationTime","servingSize","halal","vegetarian","vegan","glutenFree","dairyFree","nutFree","highSodium","containsCaffeine","spicyLevel","allergens","totalFat","saturatedFat","transFat","cholesterol","sodium","totalCarbs","dietaryFiber","sugars","protein","vitaminA","vitaminC","calcium","iron","ws","utils","json_to_sheet","colWidths","wch","wb","book_new","instructions","map","c","value","join","wsInstructions","aoa_to_sheet","book_append_sheet","writeFile","parseBoolean","toUpperCase","parseNumber","isFloat","undefined","num","parseFloat","parseInt","isNaN","processImportData","data","errors","validItems","forEach","row","index","push","validCategories","includes","split","a","trim","filter","item","error","message","handleFileUpload","e","file","target","files","handleImport","reader","FileReader","onload","Uint8Array","result","workbook","read","type","sheetName","SheetNames","worksheet","Sheets","jsonData","sheet_to_json","length","successCount","createMenuItem","prev","setTimeout","form","reset","readAsArrayBuffer","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","accept","onChange","disabled","_c","$RefreshReg$"],"sources":["/Users/mahmouddinnawi/MenuSystem/frontend/src/components/MenuImportExport.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { menuAPI } from '../services/api';\nimport * as XLSX from 'xlsx';\n\nconst MenuImportExport = ({ categories, onImportSuccess }) => {\n  const [importing, setImporting] = useState(false);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [importErrors, setImportErrors] = useState([]);\n  const [importSuccess, setImportSuccess] = useState(false);\n\n  // Generate template data\n  const generateTemplate = () => {\n    const templateData = [\n      {\n        name: 'Grilled Chicken',\n        nameAr: 'دجاج مشوي',\n        category: 'mains',\n        price: '45 SAR',\n        priceWithoutVat: '39 SAR',\n        description: 'Tender grilled chicken breast with herbs',\n        descriptionAr: 'صدر دجاج مشوي طري مع الأعشاب',\n        calories: '350',\n        walkMinutes: '45',\n        runMinutes: '20',\n        preparationTime: '20',\n        servingSize: '250g',\n        halal: 'TRUE',\n        vegetarian: 'FALSE',\n        vegan: 'FALSE',\n        glutenFree: 'TRUE',\n        dairyFree: 'FALSE',\n        nutFree: 'TRUE',\n        highSodium: 'FALSE',\n        containsCaffeine: 'FALSE',\n        spicyLevel: '0',\n        allergens: 'dairy,gluten',\n        // Nutrition label fields\n        totalFat: '12',\n        saturatedFat: '3',\n        transFat: '0',\n        cholesterol: '85',\n        sodium: '450',\n        totalCarbs: '8',\n        dietaryFiber: '2',\n        sugars: '3',\n        protein: '45',\n        vitaminA: '10',\n        vitaminC: '15',\n        calcium: '8',\n        iron: '20'\n      }\n    ];\n\n    // Create worksheet\n    const ws = XLSX.utils.json_to_sheet(templateData);\n    \n    // Set column widths\n    const colWidths = [\n      { wch: 20 }, // name\n      { wch: 20 }, // nameAr\n      { wch: 15 }, // category\n      { wch: 12 }, // price\n      { wch: 15 }, // priceWithoutVat\n      { wch: 40 }, // description\n      { wch: 40 }, // descriptionAr\n      { wch: 10 }, // calories\n      { wch: 12 }, // walkMinutes\n      { wch: 12 }, // runMinutes\n      { wch: 15 }, // preparationTime\n      { wch: 12 }, // servingSize\n      { wch: 8 },  // halal\n      { wch: 10 }, // vegetarian\n      { wch: 8 },  // vegan\n      { wch: 10 }, // glutenFree\n      { wch: 10 }, // dairyFree\n      { wch: 8 },  // nutFree\n      { wch: 10 }, // highSodium\n      { wch: 15 }, // containsCaffeine\n      { wch: 10 }, // spicyLevel\n      { wch: 20 }, // allergens\n      // Nutrition columns\n      { wch: 10 }, // totalFat\n      { wch: 12 }, // saturatedFat\n      { wch: 10 }, // transFat\n      { wch: 12 }, // cholesterol\n      { wch: 10 }, // sodium\n      { wch: 12 }, // totalCarbs\n      { wch: 12 }, // dietaryFiber\n      { wch: 10 }, // sugars\n      { wch: 10 }, // protein\n      { wch: 10 }, // vitaminA\n      { wch: 10 }, // vitaminC\n      { wch: 10 }, // calcium\n      { wch: 8 }   // iron\n    ];\n    ws['!cols'] = colWidths;\n\n    // Create workbook\n    const wb = XLSX.utils.book_new();\n    \n    // Add instructions sheet\n    const instructions = [\n      ['INSTRUCTIONS FOR MENU IMPORT'],\n      [''],\n      ['1. Fill in the data in the \"Menu Template\" sheet'],\n      ['2. Required fields: name, category, price, description, calories'],\n      ['3. Categories must be one of: ' + categories.map(c => c.value).join(', ')],\n      ['4. For boolean fields (halal, vegetarian, etc.), use TRUE or FALSE'],\n      ['5. Spicy level should be 0-3'],\n      ['6. Allergens should be comma-separated: dairy,nuts,gluten,etc.'],\n      ['7. Nutrition fields are optional - leave blank if not available'],\n      ['8. Save as .xlsx or .csv and upload']\n    ];\n    const wsInstructions = XLSX.utils.aoa_to_sheet(instructions);\n    \n    // Add sheets to workbook\n    XLSX.utils.book_append_sheet(wb, wsInstructions, \"Instructions\");\n    XLSX.utils.book_append_sheet(wb, ws, \"Menu Template\");\n    \n    // Download file\n    XLSX.writeFile(wb, 'menu_import_template.xlsx');\n  };\n\n  // Parse boolean values\n  const parseBoolean = (value) => {\n    if (typeof value === 'boolean') return value;\n    if (typeof value === 'string') {\n      return value.toUpperCase() === 'TRUE' || value === '1' || value.toUpperCase() === 'YES';\n    }\n    return false;\n  };\n\n  // Parse numeric values\n  const parseNumber = (value, isFloat = false) => {\n    if (value === '' || value === null || value === undefined) return null;\n    const num = isFloat ? parseFloat(value) : parseInt(value);\n    return isNaN(num) ? null : num;\n  };\n\n  // Process imported data\n  const processImportData = (data) => {\n    const errors = [];\n    const validItems = [];\n\n    data.forEach((row, index) => {\n      try {\n        // Skip empty rows\n        if (!row.name || !row.category || !row.price || !row.description) {\n          if (row.name || row.category || row.price || row.description) {\n            errors.push(`Row ${index + 2}: Missing required fields`);\n          }\n          return;\n        }\n\n        // Validate category\n        const validCategories = categories.map(c => c.value);\n        if (!validCategories.includes(row.category)) {\n          errors.push(`Row ${index + 2}: Invalid category \"${row.category}\"`);\n          return;\n        }\n\n        // Parse allergens\n        const allergens = row.allergens ? \n          row.allergens.split(',').map(a => a.trim()).filter(a => a) : [];\n\n        // Create item object\n        const item = {\n          name: row.name,\n          nameAr: row.nameAr || '',\n          category: row.category,\n          price: row.price,\n          priceWithoutVat: row.priceWithoutVat || '',\n          description: row.description,\n          descriptionAr: row.descriptionAr || '',\n          calories: parseNumber(row.calories) || 0,\n          walkMinutes: parseNumber(row.walkMinutes),\n          runMinutes: parseNumber(row.runMinutes),\n          preparationTime: parseNumber(row.preparationTime),\n          servingSize: row.servingSize || '',\n          halal: parseBoolean(row.halal),\n          vegetarian: parseBoolean(row.vegetarian),\n          vegan: parseBoolean(row.vegan),\n          glutenFree: parseBoolean(row.glutenFree),\n          dairyFree: parseBoolean(row.dairyFree),\n          nutFree: parseBoolean(row.nutFree),\n          highSodium: parseBoolean(row.highSodium),\n          containsCaffeine: parseBoolean(row.containsCaffeine),\n          spicyLevel: parseNumber(row.spicyLevel) || 0,\n          allergens: allergens,\n          // Nutrition fields\n          totalFat: parseNumber(row.totalFat, true),\n          saturatedFat: parseNumber(row.saturatedFat, true),\n          transFat: parseNumber(row.transFat, true),\n          cholesterol: parseNumber(row.cholesterol),\n          sodium: parseNumber(row.sodium),\n          totalCarbs: parseNumber(row.totalCarbs, true),\n          dietaryFiber: parseNumber(row.dietaryFiber, true),\n          sugars: parseNumber(row.sugars, true),\n          protein: parseNumber(row.protein, true),\n          vitaminA: parseNumber(row.vitaminA),\n          vitaminC: parseNumber(row.vitaminC),\n          calcium: parseNumber(row.calcium),\n          iron: parseNumber(row.iron)\n        };\n\n        validItems.push(item);\n      } catch (error) {\n        errors.push(`Row ${index + 2}: ${error.message}`);\n      }\n    });\n\n    return { validItems, errors };\n  };\n\n  // Handle file upload\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setUploadFile(file);\n      setImportErrors([]);\n      setImportSuccess(false);\n    }\n  };\n\n  // Handle import\n  const handleImport = async () => {\n    if (!uploadFile) return;\n\n    setImporting(true);\n    setImportErrors([]);\n    setImportSuccess(false);\n\n    try {\n      const reader = new FileReader();\n      \n      reader.onload = async (e) => {\n        try {\n          const data = new Uint8Array(e.target.result);\n          const workbook = XLSX.read(data, { type: 'array' });\n          \n          // Get the first sheet (or \"Menu Template\" sheet if it exists)\n          const sheetName = workbook.SheetNames.includes('Menu Template') ? \n            'Menu Template' : workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          \n          // Convert to JSON\n          const jsonData = XLSX.utils.sheet_to_json(worksheet);\n          \n          if (jsonData.length === 0) {\n            setImportErrors(['No data found in the file']);\n            setImporting(false);\n            return;\n          }\n\n          // Process and validate data\n          const { validItems, errors } = processImportData(jsonData);\n          \n          if (errors.length > 0) {\n            setImportErrors(errors);\n          }\n\n          if (validItems.length > 0) {\n            // Import valid items\n            let successCount = 0;\n            const importErrors = [];\n\n            for (const item of validItems) {\n              try {\n                await menuAPI.createMenuItem(item);\n                successCount++;\n              } catch (error) {\n                importErrors.push(`Failed to import \"${item.name}\": ${error.message}`);\n              }\n            }\n\n            if (importErrors.length > 0) {\n              setImportErrors(prev => [...prev, ...importErrors]);\n            }\n\n            if (successCount > 0) {\n              setImportSuccess(true);\n              onImportSuccess();\n              \n              // Reset form after success\n              setTimeout(() => {\n                setUploadFile(null);\n                setImportSuccess(false);\n                if (e.target.form) {\n                  e.target.form.reset();\n                }\n              }, 3000);\n            }\n          } else if (errors.length === 0) {\n            setImportErrors(['No valid items found to import']);\n          }\n        } catch (error) {\n          setImportErrors([`Failed to read file: ${error.message}`]);\n        } finally {\n          setImporting(false);\n        }\n      };\n\n      reader.readAsArrayBuffer(uploadFile);\n    } catch (error) {\n      setImportErrors([`Upload failed: ${error.message}`]);\n      setImporting(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl p-6 shadow-lg\">\n      <h2 className=\"text-xl font-playfair font-bold text-primary mb-6\">Import/Export Menu</h2>\n      \n      {/* Download Template */}\n      <div className=\"mb-8\">\n        <h3 className=\"text-lg font-semibold mb-3\">Step 1: Download Template</h3>\n        <p className=\"text-gray-600 mb-4\">\n          Download the Excel template with all required fields and instructions.\n        </p>\n        <button\n          onClick={generateTemplate}\n          className=\"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          Download Template\n        </button>\n      </div>\n      \n      {/* Upload File */}\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-semibold mb-3\">Step 2: Upload Filled Template</h3>\n        <p className=\"text-gray-600 mb-4\">\n          Fill the template with your menu items and upload it here.\n        </p>\n        <div className=\"flex items-center gap-4\">\n          <input\n            type=\"file\"\n            accept=\".xlsx,.xls,.csv\"\n            onChange={handleFileUpload}\n            className=\"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none\"\n          />\n          <button\n            onClick={handleImport}\n            disabled={!uploadFile || importing}\n            className={`px-4 py-2 rounded-lg transition-colors ${\n              uploadFile && !importing\n                ? 'bg-green-600 text-white hover:bg-green-700'\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n            }`}\n          >\n            {importing ? 'Importing...' : 'Import'}\n          </button>\n        </div>\n      </div>\n      \n      {/* Success Message */}\n      {importSuccess && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n          <p className=\"text-green-700 font-medium\">\n            ✅ Menu items imported successfully!\n          </p>\n        </div>\n      )}\n      \n      {/* Error Messages */}\n      {importErrors.length > 0 && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-700 font-medium mb-2\">Import Errors:</p>\n          <ul className=\"list-disc list-inside text-sm text-red-600 space-y-1\">\n            {importErrors.map((error, index) => (\n              <li key={index}>{error}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n      \n      {/* Instructions */}\n      <div className=\"mt-8 p-4 bg-gray-50 rounded-lg\">\n        <h4 className=\"font-semibold mb-2\">Quick Guide:</h4>\n        <ul className=\"text-sm text-gray-600 space-y-1\">\n          <li>• Required fields: name, category, price, description, calories</li>\n          <li>• Categories: {categories.map(c => c.value).join(', ')}</li>\n          <li>• Boolean fields: Use TRUE/FALSE</li>\n          <li>• Allergens: Comma-separated (e.g., dairy,nuts,gluten)</li>\n          <li>• Nutrition fields are optional</li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default MenuImportExport;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,iBAAiB;AACzC,OAAO,KAAKC,IAAI,MAAM,MAAM;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,UAAU;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;;EAEzD;EACA,MAAMiB,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMC,YAAY,GAAG,CACnB;MACEC,IAAI,EAAE,iBAAiB;MACvBC,MAAM,EAAE,WAAW;MACnBC,QAAQ,EAAE,OAAO;MACjBC,KAAK,EAAE,QAAQ;MACfC,eAAe,EAAE,QAAQ;MACzBC,WAAW,EAAE,0CAA0C;MACvDC,aAAa,EAAE,8BAA8B;MAC7CC,QAAQ,EAAE,KAAK;MACfC,WAAW,EAAE,IAAI;MACjBC,UAAU,EAAE,IAAI;MAChBC,eAAe,EAAE,IAAI;MACrBC,WAAW,EAAE,MAAM;MACnBC,KAAK,EAAE,MAAM;MACbC,UAAU,EAAE,OAAO;MACnBC,KAAK,EAAE,OAAO;MACdC,UAAU,EAAE,MAAM;MAClBC,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,OAAO;MACnBC,gBAAgB,EAAE,OAAO;MACzBC,UAAU,EAAE,GAAG;MACfC,SAAS,EAAE,cAAc;MACzB;MACAC,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAE,GAAG;MACjBC,QAAQ,EAAE,GAAG;MACbC,WAAW,EAAE,IAAI;MACjBC,MAAM,EAAE,KAAK;MACbC,UAAU,EAAE,GAAG;MACfC,YAAY,EAAE,GAAG;MACjBC,MAAM,EAAE,GAAG;MACXC,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAE,GAAG;MACZC,IAAI,EAAE;IACR,CAAC,CACF;;IAED;IACA,MAAMC,EAAE,GAAGpD,IAAI,CAACqD,KAAK,CAACC,aAAa,CAACtC,YAAY,CAAC;;IAEjD;IACA,MAAMuC,SAAS,GAAG,CAChB;MAAEC,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAE,CAAC;IAAG;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAE,CAAC;IAAG;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAE,CAAC;IAAG;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;IACA;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAG,CAAC;IAAE;IACb;MAAEA,GAAG,EAAE;IAAE,CAAC,CAAG;IAAA,CACd;IACDJ,EAAE,CAAC,OAAO,CAAC,GAAGG,SAAS;;IAEvB;IACA,MAAME,EAAE,GAAGzD,IAAI,CAACqD,KAAK,CAACK,QAAQ,CAAC,CAAC;;IAEhC;IACA,MAAMC,YAAY,GAAG,CACnB,CAAC,8BAA8B,CAAC,EAChC,CAAC,EAAE,CAAC,EACJ,CAAC,kDAAkD,CAAC,EACpD,CAAC,kEAAkE,CAAC,EACpE,CAAC,gCAAgC,GAAGvD,UAAU,CAACwD,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC5E,CAAC,oEAAoE,CAAC,EACtE,CAAC,8BAA8B,CAAC,EAChC,CAAC,gEAAgE,CAAC,EAClE,CAAC,iEAAiE,CAAC,EACnE,CAAC,qCAAqC,CAAC,CACxC;IACD,MAAMC,cAAc,GAAGhE,IAAI,CAACqD,KAAK,CAACY,YAAY,CAACN,YAAY,CAAC;;IAE5D;IACA3D,IAAI,CAACqD,KAAK,CAACa,iBAAiB,CAACT,EAAE,EAAEO,cAAc,EAAE,cAAc,CAAC;IAChEhE,IAAI,CAACqD,KAAK,CAACa,iBAAiB,CAACT,EAAE,EAAEL,EAAE,EAAE,eAAe,CAAC;;IAErD;IACApD,IAAI,CAACmE,SAAS,CAACV,EAAE,EAAE,2BAA2B,CAAC;EACjD,CAAC;;EAED;EACA,MAAMW,YAAY,GAAIN,KAAK,IAAK;IAC9B,IAAI,OAAOA,KAAK,KAAK,SAAS,EAAE,OAAOA,KAAK;IAC5C,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC7B,OAAOA,KAAK,CAACO,WAAW,CAAC,CAAC,KAAK,MAAM,IAAIP,KAAK,KAAK,GAAG,IAAIA,KAAK,CAACO,WAAW,CAAC,CAAC,KAAK,KAAK;IACzF;IACA,OAAO,KAAK;EACd,CAAC;;EAED;EACA,MAAMC,WAAW,GAAGA,CAACR,KAAK,EAAES,OAAO,GAAG,KAAK,KAAK;IAC9C,IAAIT,KAAK,KAAK,EAAE,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKU,SAAS,EAAE,OAAO,IAAI;IACtE,MAAMC,GAAG,GAAGF,OAAO,GAAGG,UAAU,CAACZ,KAAK,CAAC,GAAGa,QAAQ,CAACb,KAAK,CAAC;IACzD,OAAOc,KAAK,CAACH,GAAG,CAAC,GAAG,IAAI,GAAGA,GAAG;EAChC,CAAC;;EAED;EACA,MAAMI,iBAAiB,GAAIC,IAAI,IAAK;IAClC,MAAMC,MAAM,GAAG,EAAE;IACjB,MAAMC,UAAU,GAAG,EAAE;IAErBF,IAAI,CAACG,OAAO,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;MAC3B,IAAI;QACF;QACA,IAAI,CAACD,GAAG,CAACjE,IAAI,IAAI,CAACiE,GAAG,CAAC/D,QAAQ,IAAI,CAAC+D,GAAG,CAAC9D,KAAK,IAAI,CAAC8D,GAAG,CAAC5D,WAAW,EAAE;UAChE,IAAI4D,GAAG,CAACjE,IAAI,IAAIiE,GAAG,CAAC/D,QAAQ,IAAI+D,GAAG,CAAC9D,KAAK,IAAI8D,GAAG,CAAC5D,WAAW,EAAE;YAC5DyD,MAAM,CAACK,IAAI,CAAC,OAAOD,KAAK,GAAG,CAAC,2BAA2B,CAAC;UAC1D;UACA;QACF;;QAEA;QACA,MAAME,eAAe,GAAGjF,UAAU,CAACwD,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC;QACpD,IAAI,CAACuB,eAAe,CAACC,QAAQ,CAACJ,GAAG,CAAC/D,QAAQ,CAAC,EAAE;UAC3C4D,MAAM,CAACK,IAAI,CAAC,OAAOD,KAAK,GAAG,CAAC,uBAAuBD,GAAG,CAAC/D,QAAQ,GAAG,CAAC;UACnE;QACF;;QAEA;QACA,MAAMmB,SAAS,GAAG4C,GAAG,CAAC5C,SAAS,GAC7B4C,GAAG,CAAC5C,SAAS,CAACiD,KAAK,CAAC,GAAG,CAAC,CAAC3B,GAAG,CAAC4B,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACF,CAAC,IAAIA,CAAC,CAAC,GAAG,EAAE;;QAEjE;QACA,MAAMG,IAAI,GAAG;UACX1E,IAAI,EAAEiE,GAAG,CAACjE,IAAI;UACdC,MAAM,EAAEgE,GAAG,CAAChE,MAAM,IAAI,EAAE;UACxBC,QAAQ,EAAE+D,GAAG,CAAC/D,QAAQ;UACtBC,KAAK,EAAE8D,GAAG,CAAC9D,KAAK;UAChBC,eAAe,EAAE6D,GAAG,CAAC7D,eAAe,IAAI,EAAE;UAC1CC,WAAW,EAAE4D,GAAG,CAAC5D,WAAW;UAC5BC,aAAa,EAAE2D,GAAG,CAAC3D,aAAa,IAAI,EAAE;UACtCC,QAAQ,EAAE8C,WAAW,CAACY,GAAG,CAAC1D,QAAQ,CAAC,IAAI,CAAC;UACxCC,WAAW,EAAE6C,WAAW,CAACY,GAAG,CAACzD,WAAW,CAAC;UACzCC,UAAU,EAAE4C,WAAW,CAACY,GAAG,CAACxD,UAAU,CAAC;UACvCC,eAAe,EAAE2C,WAAW,CAACY,GAAG,CAACvD,eAAe,CAAC;UACjDC,WAAW,EAAEsD,GAAG,CAACtD,WAAW,IAAI,EAAE;UAClCC,KAAK,EAAEuC,YAAY,CAACc,GAAG,CAACrD,KAAK,CAAC;UAC9BC,UAAU,EAAEsC,YAAY,CAACc,GAAG,CAACpD,UAAU,CAAC;UACxCC,KAAK,EAAEqC,YAAY,CAACc,GAAG,CAACnD,KAAK,CAAC;UAC9BC,UAAU,EAAEoC,YAAY,CAACc,GAAG,CAAClD,UAAU,CAAC;UACxCC,SAAS,EAAEmC,YAAY,CAACc,GAAG,CAACjD,SAAS,CAAC;UACtCC,OAAO,EAAEkC,YAAY,CAACc,GAAG,CAAChD,OAAO,CAAC;UAClCC,UAAU,EAAEiC,YAAY,CAACc,GAAG,CAAC/C,UAAU,CAAC;UACxCC,gBAAgB,EAAEgC,YAAY,CAACc,GAAG,CAAC9C,gBAAgB,CAAC;UACpDC,UAAU,EAAEiC,WAAW,CAACY,GAAG,CAAC7C,UAAU,CAAC,IAAI,CAAC;UAC5CC,SAAS,EAAEA,SAAS;UACpB;UACAC,QAAQ,EAAE+B,WAAW,CAACY,GAAG,CAAC3C,QAAQ,EAAE,IAAI,CAAC;UACzCC,YAAY,EAAE8B,WAAW,CAACY,GAAG,CAAC1C,YAAY,EAAE,IAAI,CAAC;UACjDC,QAAQ,EAAE6B,WAAW,CAACY,GAAG,CAACzC,QAAQ,EAAE,IAAI,CAAC;UACzCC,WAAW,EAAE4B,WAAW,CAACY,GAAG,CAACxC,WAAW,CAAC;UACzCC,MAAM,EAAE2B,WAAW,CAACY,GAAG,CAACvC,MAAM,CAAC;UAC/BC,UAAU,EAAE0B,WAAW,CAACY,GAAG,CAACtC,UAAU,EAAE,IAAI,CAAC;UAC7CC,YAAY,EAAEyB,WAAW,CAACY,GAAG,CAACrC,YAAY,EAAE,IAAI,CAAC;UACjDC,MAAM,EAAEwB,WAAW,CAACY,GAAG,CAACpC,MAAM,EAAE,IAAI,CAAC;UACrCC,OAAO,EAAEuB,WAAW,CAACY,GAAG,CAACnC,OAAO,EAAE,IAAI,CAAC;UACvCC,QAAQ,EAAEsB,WAAW,CAACY,GAAG,CAAClC,QAAQ,CAAC;UACnCC,QAAQ,EAAEqB,WAAW,CAACY,GAAG,CAACjC,QAAQ,CAAC;UACnCC,OAAO,EAAEoB,WAAW,CAACY,GAAG,CAAChC,OAAO,CAAC;UACjCC,IAAI,EAAEmB,WAAW,CAACY,GAAG,CAAC/B,IAAI;QAC5B,CAAC;QAED6B,UAAU,CAACI,IAAI,CAACO,IAAI,CAAC;MACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdb,MAAM,CAACK,IAAI,CAAC,OAAOD,KAAK,GAAG,CAAC,KAAKS,KAAK,CAACC,OAAO,EAAE,CAAC;MACnD;IACF,CAAC,CAAC;IAEF,OAAO;MAAEb,UAAU;MAAED;IAAO,CAAC;EAC/B,CAAC;;EAED;EACA,MAAMe,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,EAAE;MACRtF,aAAa,CAACsF,IAAI,CAAC;MACnBpF,eAAe,CAAC,EAAE,CAAC;MACnBE,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;;EAED;EACA,MAAMqF,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAAC1F,UAAU,EAAE;IAEjBD,YAAY,CAAC,IAAI,CAAC;IAClBI,eAAe,CAAC,EAAE,CAAC;IACnBE,gBAAgB,CAAC,KAAK,CAAC;IAEvB,IAAI;MACF,MAAMsF,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAE/BD,MAAM,CAACE,MAAM,GAAG,MAAOP,CAAC,IAAK;QAC3B,IAAI;UACF,MAAMjB,IAAI,GAAG,IAAIyB,UAAU,CAACR,CAAC,CAACE,MAAM,CAACO,MAAM,CAAC;UAC5C,MAAMC,QAAQ,GAAGzG,IAAI,CAAC0G,IAAI,CAAC5B,IAAI,EAAE;YAAE6B,IAAI,EAAE;UAAQ,CAAC,CAAC;;UAEnD;UACA,MAAMC,SAAS,GAAGH,QAAQ,CAACI,UAAU,CAACvB,QAAQ,CAAC,eAAe,CAAC,GAC7D,eAAe,GAAGmB,QAAQ,CAACI,UAAU,CAAC,CAAC,CAAC;UAC1C,MAAMC,SAAS,GAAGL,QAAQ,CAACM,MAAM,CAACH,SAAS,CAAC;;UAE5C;UACA,MAAMI,QAAQ,GAAGhH,IAAI,CAACqD,KAAK,CAAC4D,aAAa,CAACH,SAAS,CAAC;UAEpD,IAAIE,QAAQ,CAACE,MAAM,KAAK,CAAC,EAAE;YACzBtG,eAAe,CAAC,CAAC,2BAA2B,CAAC,CAAC;YAC9CJ,YAAY,CAAC,KAAK,CAAC;YACnB;UACF;;UAEA;UACA,MAAM;YAAEwE,UAAU;YAAED;UAAO,CAAC,GAAGF,iBAAiB,CAACmC,QAAQ,CAAC;UAE1D,IAAIjC,MAAM,CAACmC,MAAM,GAAG,CAAC,EAAE;YACrBtG,eAAe,CAACmE,MAAM,CAAC;UACzB;UAEA,IAAIC,UAAU,CAACkC,MAAM,GAAG,CAAC,EAAE;YACzB;YACA,IAAIC,YAAY,GAAG,CAAC;YACpB,MAAMxG,YAAY,GAAG,EAAE;YAEvB,KAAK,MAAMgF,IAAI,IAAIX,UAAU,EAAE;cAC7B,IAAI;gBACF,MAAMjF,OAAO,CAACqH,cAAc,CAACzB,IAAI,CAAC;gBAClCwB,YAAY,EAAE;cAChB,CAAC,CAAC,OAAOvB,KAAK,EAAE;gBACdjF,YAAY,CAACyE,IAAI,CAAC,qBAAqBO,IAAI,CAAC1E,IAAI,MAAM2E,KAAK,CAACC,OAAO,EAAE,CAAC;cACxE;YACF;YAEA,IAAIlF,YAAY,CAACuG,MAAM,GAAG,CAAC,EAAE;cAC3BtG,eAAe,CAACyG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAG1G,YAAY,CAAC,CAAC;YACrD;YAEA,IAAIwG,YAAY,GAAG,CAAC,EAAE;cACpBrG,gBAAgB,CAAC,IAAI,CAAC;cACtBT,eAAe,CAAC,CAAC;;cAEjB;cACAiH,UAAU,CAAC,MAAM;gBACf5G,aAAa,CAAC,IAAI,CAAC;gBACnBI,gBAAgB,CAAC,KAAK,CAAC;gBACvB,IAAIiF,CAAC,CAACE,MAAM,CAACsB,IAAI,EAAE;kBACjBxB,CAAC,CAACE,MAAM,CAACsB,IAAI,CAACC,KAAK,CAAC,CAAC;gBACvB;cACF,CAAC,EAAE,IAAI,CAAC;YACV;UACF,CAAC,MAAM,IAAIzC,MAAM,CAACmC,MAAM,KAAK,CAAC,EAAE;YAC9BtG,eAAe,CAAC,CAAC,gCAAgC,CAAC,CAAC;UACrD;QACF,CAAC,CAAC,OAAOgF,KAAK,EAAE;UACdhF,eAAe,CAAC,CAAC,wBAAwBgF,KAAK,CAACC,OAAO,EAAE,CAAC,CAAC;QAC5D,CAAC,SAAS;UACRrF,YAAY,CAAC,KAAK,CAAC;QACrB;MACF,CAAC;MAED4F,MAAM,CAACqB,iBAAiB,CAAChH,UAAU,CAAC;IACtC,CAAC,CAAC,OAAOmF,KAAK,EAAE;MACdhF,eAAe,CAAC,CAAC,kBAAkBgF,KAAK,CAACC,OAAO,EAAE,CAAC,CAAC;MACpDrF,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACEN,OAAA;IAAKwH,SAAS,EAAC,mCAAmC;IAAAC,QAAA,gBAChDzH,OAAA;MAAIwH,SAAS,EAAC,mDAAmD;MAAAC,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGzF7H,OAAA;MAAKwH,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBzH,OAAA;QAAIwH,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAyB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzE7H,OAAA;QAAGwH,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAElC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACJ7H,OAAA;QACE8H,OAAO,EAAEjH,gBAAiB;QAC1B2G,SAAS,EAAC,4GAA4G;QAAAC,QAAA,gBAEtHzH,OAAA;UAAKwH,SAAS,EAAC,SAAS;UAACO,IAAI,EAAC,MAAM;UAACC,OAAO,EAAC,WAAW;UAACC,MAAM,EAAC,cAAc;UAAAR,QAAA,eAC5EzH,OAAA;YAAMkI,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAAiI;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtM,CAAC,qBAER;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGN7H,OAAA;MAAKwH,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBzH,OAAA;QAAIwH,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAA8B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9E7H,OAAA;QAAGwH,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAElC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACJ7H,OAAA;QAAKwH,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtCzH,OAAA;UACEyG,IAAI,EAAC,MAAM;UACX6B,MAAM,EAAC,iBAAiB;UACxBC,QAAQ,EAAE3C,gBAAiB;UAC3B4B,SAAS,EAAC;QAA8F;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzG,CAAC,eACF7H,OAAA;UACE8H,OAAO,EAAE7B,YAAa;UACtBuC,QAAQ,EAAE,CAACjI,UAAU,IAAIF,SAAU;UACnCmH,SAAS,EAAE,0CACTjH,UAAU,IAAI,CAACF,SAAS,GACpB,4CAA4C,GAC5C,8CAA8C,EACjD;UAAAoH,QAAA,EAEFpH,SAAS,GAAG,cAAc,GAAG;QAAQ;UAAAqH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLlH,aAAa,iBACZX,OAAA;MAAKwH,SAAS,EAAC,yDAAyD;MAAAC,QAAA,eACtEzH,OAAA;QAAGwH,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAE1C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CACN,EAGApH,YAAY,CAACuG,MAAM,GAAG,CAAC,iBACtBhH,OAAA;MAAKwH,SAAS,EAAC,gDAAgD;MAAAC,QAAA,gBAC7DzH,OAAA;QAAGwH,SAAS,EAAC,+BAA+B;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC/D7H,OAAA;QAAIwH,SAAS,EAAC,sDAAsD;QAAAC,QAAA,EACjEhH,YAAY,CAACiD,GAAG,CAAC,CAACgC,KAAK,EAAET,KAAK,kBAC7BjF,OAAA;UAAAyH,QAAA,EAAiB/B;QAAK,GAAbT,KAAK;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa,CAC5B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACN,eAGD7H,OAAA;MAAKwH,SAAS,EAAC,gCAAgC;MAAAC,QAAA,gBAC7CzH,OAAA;QAAIwH,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpD7H,OAAA;QAAIwH,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC7CzH,OAAA;UAAAyH,QAAA,EAAI;QAA+D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxE7H,OAAA;UAAAyH,QAAA,GAAI,qBAAc,EAACvH,UAAU,CAACwD,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;QAAA;UAAA6D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAChE7H,OAAA;UAAAyH,QAAA,EAAI;QAAgC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzC7H,OAAA;UAAAyH,QAAA,EAAI;QAAsD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/D7H,OAAA;UAAAyH,QAAA,EAAI;QAA+B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzH,EAAA,CAnYIH,gBAAgB;AAAAwI,EAAA,GAAhBxI,gBAAgB;AAqYtB,eAAeA,gBAAgB;AAAC,IAAAwI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}