{"ast":null,"code":"var _jsxFileName = \"/Users/mahmouddinnawi/MenuSystem/frontend/src/App.js\";\nimport React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider } from './contexts/AuthContext';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport RestaurantMenu from './pages/RestaurantMenu';\nimport Dashboard from './pages/Dashboard';\nimport SystemAdminLogin from './pages/SystemAdminLogin';\nimport TenantLogin from './pages/TenantLogin';\nimport SystemAdminDashboard from './pages/SystemAdminDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  // Determine if we're on the main app domain or a subdomain\n  const hostname = window.location.hostname;\n  const isMainApp = hostname === 'app.menuiq.io' || hostname === 'localhost' || hostname === '127.0.0.1';\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(AuthProvider, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(RestaurantMenu, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: isMainApp ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 53\n          }, this) : /*#__PURE__*/_jsxDEV(TenantLogin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 86\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/login\",\n          element: /*#__PURE__*/_jsxDEV(SystemAdminLogin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            requireSystemAdmin: true,\n            children: /*#__PURE__*/_jsxDEV(SystemAdminDashboard, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/unauthorized\",\n          element: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-red-600 mb-4\",\n                children: \"Unauthorized Access\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-6\",\n                children: \"You don't have permission to access this page.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                className: \"text-blue-600 hover:text-blue-700\",\n                children: \"Go back home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","ProtectedRoute","RestaurantMenu","Dashboard","SystemAdminLogin","TenantLogin","SystemAdminDashboard","jsxDEV","_jsxDEV","App","hostname","window","location","isMainApp","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","to","requireSystemAdmin","className","href","replace","_c","$RefreshReg$"],"sources":["/Users/mahmouddinnawi/MenuSystem/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider } from './contexts/AuthContext';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport RestaurantMenu from './pages/RestaurantMenu';\nimport Dashboard from './pages/Dashboard';\nimport SystemAdminLogin from './pages/SystemAdminLogin';\nimport TenantLogin from './pages/TenantLogin';\nimport SystemAdminDashboard from './pages/SystemAdminDashboard';\n\nfunction App() {\n  // Determine if we're on the main app domain or a subdomain\n  const hostname = window.location.hostname;\n  const isMainApp = hostname === 'app.menuiq.io' || \n                    hostname === 'localhost' || \n                    hostname === '127.0.0.1';\n\n  return (\n    <Router>\n      <AuthProvider>\n        <Routes>\n          {/* Public menu view */}\n          <Route path=\"/\" element={<RestaurantMenu />} />\n          \n          {/* Auth routes */}\n          <Route path=\"/login\" element={isMainApp ? <Navigate to=\"/admin/login\" /> : <TenantLogin />} />\n          \n          {/* System Admin Routes */}\n          <Route path=\"/admin/login\" element={<SystemAdminLogin />} />\n          <Route \n            path=\"/admin/dashboard\" \n            element={\n              <ProtectedRoute requireSystemAdmin>\n                <SystemAdminDashboard />\n              </ProtectedRoute>\n            } \n          />\n          \n          {/* Tenant Routes */}\n          <Route \n            path=\"/dashboard\" \n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            } \n          />\n          \n          {/* Unauthorized */}\n          <Route \n            path=\"/unauthorized\" \n            element={\n              <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n                <div className=\"text-center\">\n                  <h1 className=\"text-2xl font-bold text-red-600 mb-4\">Unauthorized Access</h1>\n                  <p className=\"text-gray-600 mb-6\">You don't have permission to access this page.</p>\n                  <a href=\"/\" className=\"text-blue-600 hover:text-blue-700\">\n                    Go back home\n                  </a>\n                </div>\n              </div>\n            } \n          />\n          \n          {/* Catch all */}\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}